/**
 * TED Protocol - Complete Responsive Design System
 * Supports all mobile devices and screen sizes
 * Version: 3.0 - Full Responsive Implementation
 */

/* ===============================================
   RESPONSIVE BREAKPOINTS DEFINITION
   =============================================== */
:root {
  /* Standard Breakpoints */
  --mobile-xs: 320px;   /* Small phones */
  --mobile-sm: 375px;   /* iPhone SE, etc */
  --mobile-md: 414px;   /* iPhone Plus */
  --mobile-lg: 480px;   /* Large phones */
  --tablet-sm: 600px;   /* Small tablets */
  --tablet-md: 768px;   /* iPad Portrait */
  --tablet-lg: 834px;   /* iPad Pro 11" Portrait */
  --desktop-sm: 996px;  /* Docusaurus mobile threshold */
  --desktop-md: 1024px; /* Small desktop */
  --desktop-lg: 1280px; /* Standard desktop */
  --desktop-xl: 1440px; /* Large desktop */
  --desktop-xxl: 1920px; /* Full HD */
}

/* ===============================================
   GLOBAL RESPONSIVE SETTINGS
   =============================================== */
* {
  box-sizing: border-box;
}

html {
  font-size: 16px;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}

body {
  margin: 0;
  padding: 0;
  min-width: 320px;
  overflow-x: hidden;
}

/* ===============================================
   MOBILE XS: 320px - 374px
   =============================================== */
@media screen and (max-width: 374px) {
  /* Typography scaling */
  html {
    font-size: 14px;
  }

  /* Container */
  .container {
    padding: 0 12px !important;
    max-width: 100% !important;
  }

  /* Navbar adjustments */
  .navbar {
    padding: 8px 12px !important;
    min-height: 56px !important;
  }

  .navbar__logo {
    height: 28px !important;
    width: auto !important;
  }

  /* Hide all non-essential navbar items */
  .navbar__title,
  .navbar__item:not(.dropdown),
  [href*="github"] {
    display: none !important;
  }

  /* Main content */
  .main-wrapper {
    padding-top: 56px !important;
  }

  article {
    padding: 16px !important;
  }

  /* Headings */
  h1 {
    font-size: 1.75rem !important;
    line-height: 1.3 !important;
  }

  h2 {
    font-size: 1.5rem !important;
    line-height: 1.3 !important;
  }

  h3 {
    font-size: 1.25rem !important;
  }

  /* Tables - make scrollable */
  .table-wrapper,
  table {
    display: block !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  /* Code blocks */
  pre {
    padding: 12px !important;
    font-size: 12px !important;
    overflow-x: auto !important;
  }

  /* Sidebar */
  .navbar-sidebar {
    width: 90% !important;
    max-width: 300px !important;
  }

  /* Footer */
  .footer {
    padding: 24px 12px !important;
  }

  .footer__links {
    flex-direction: column !important;
  }
}

/* ===============================================
   MOBILE SM: 375px - 413px (iPhone Standard)
   =============================================== */
@media screen and (min-width: 375px) and (max-width: 413px) {
  /* Typography */
  html {
    font-size: 15px;
  }

  /* Container */
  .container {
    padding: 0 16px !important;
  }

  /* Navbar */
  .navbar {
    padding: 10px 16px !important;
    min-height: 60px !important;
  }

  .navbar__logo {
    height: 32px !important;
  }

  /* Content spacing */
  .main-wrapper {
    padding-top: 60px !important;
  }

  article {
    padding: 20px 16px !important;
  }

  /* Headings */
  h1 {
    font-size: 1.875rem !important;
  }

  h2 {
    font-size: 1.625rem !important;
  }

  /* Sidebar */
  .navbar-sidebar {
    width: 85% !important;
    max-width: 320px !important;
  }

  /* Cards and components */
  .card {
    padding: 16px !important;
    margin: 12px 0 !important;
  }
}

/* ===============================================
   MOBILE MD: 414px - 479px (iPhone Plus/Pro Max)
   =============================================== */
@media screen and (min-width: 414px) and (max-width: 479px) {
  /* Container */
  .container {
    padding: 0 20px !important;
  }

  /* Navbar */
  .navbar {
    padding: 12px 20px !important;
    min-height: 64px !important;
  }

  /* Content */
  article {
    padding: 24px 20px !important;
  }

  /* Typography */
  h1 {
    font-size: 2rem !important;
  }

  h2 {
    font-size: 1.75rem !important;
  }

  /* Grid adjustments */
  .row {
    margin: 0 -10px !important;
  }

  .col {
    padding: 0 10px !important;
  }
}

/* ===============================================
   MOBILE LG: 480px - 599px
   =============================================== */
@media screen and (min-width: 480px) and (max-width: 599px) {
  /* Container */
  .container {
    padding: 0 24px !important;
    max-width: 540px !important;
  }

  /* Enhanced typography */
  html {
    font-size: 16px;
  }

  /* Two-column layouts start here */
  .row > .col--6 {
    flex: 0 0 50% !important;
    max-width: 50% !important;
  }

  /* Cards grid */
  .cards-grid {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 16px !important;
  }
}

/* ===============================================
   TABLET SM: 600px - 767px
   =============================================== */
@media screen and (min-width: 600px) and (max-width: 767px) {
  /* Container */
  .container {
    padding: 0 32px !important;
    max-width: 720px !important;
  }

  /* Show some navbar items */
  .navbar__item:first-child {
    display: flex !important;
  }

  /* Better spacing */
  article {
    padding: 32px !important;
  }

  /* Three-column layouts */
  .row > .col--4 {
    flex: 0 0 33.333% !important;
    max-width: 33.333% !important;
  }
}

/* ===============================================
   TABLET MD: 768px - 833px (iPad Portrait)
   =============================================== */
@media screen and (min-width: 768px) and (max-width: 833px) {
  /* Container */
  .container {
    padding: 0 40px !important;
    max-width: 760px !important;
  }

  /* Sidebar layout */
  .docSidebarContainer {
    display: block !important;
    width: 200px !important;
  }

  .docMainContainer {
    margin-left: 200px !important;
  }

  /* Enhanced typography */
  h1 {
    font-size: 2.5rem !important;
  }

  h2 {
    font-size: 2rem !important;
  }
}

/* ===============================================
   TABLET LG: 834px - 995px (iPad Pro 11")
   =============================================== */
@media screen and (min-width: 834px) and (max-width: 995px) {
  /* Container */
  .container {
    padding: 0 48px !important;
    max-width: 960px !important;
  }

  /* Full navbar */
  .navbar__items {
    display: flex !important;
  }

  /* Sidebar */
  .docSidebarContainer {
    width: 240px !important;
  }

  .docMainContainer {
    margin-left: 240px !important;
  }
}

/* ===============================================
   MOBILE-SPECIFIC UTILITIES
   =============================================== */
@media screen and (max-width: 996px) {
  /* Touch-optimized buttons */
  button,
  .button,
  a.button {
    min-height: 44px !important;
    min-width: 44px !important;
    padding: 12px 16px !important;
  }

  /* Better touch targets */
  a,
  .menu__link {
    padding: 8px 0 !important;
    display: inline-block !important;
  }

  /* Improved form elements */
  input,
  textarea,
  select {
    font-size: 16px !important; /* Prevents zoom on iOS */
    padding: 12px !important;
    min-height: 44px !important;
  }

  /* Horizontal scrolling for tables */
  table {
    display: block !important;
    width: 100% !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  /* Responsive images */
  img {
    max-width: 100% !important;
    height: auto !important;
  }

  /* Hide desktop-only elements */
  .desktop-only {
    display: none !important;
  }

  /* Stack flexbox items */
  .flex-row-mobile-column {
    flex-direction: column !important;
  }

  /* Full-width buttons on mobile */
  .btn-mobile-full {
    width: 100% !important;
    display: block !important;
  }

  /* Responsive padding */
  .padding-responsive {
    padding: 16px !important;
  }

  /* Responsive margins */
  .margin-responsive {
    margin: 16px 0 !important;
  }

  /* Text alignment */
  .text-center-mobile {
    text-align: center !important;
  }

  /* Hide scrollbars but keep scrolling */
  .hide-scrollbar {
    -ms-overflow-style: none !important;
    scrollbar-width: none !important;
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none !important;
  }
}

/* ===============================================
   LANDSCAPE ORIENTATION FIXES
   =============================================== */
@media screen and (max-width: 996px) and (orientation: landscape) {
  /* Reduce vertical spacing in landscape */
  .navbar {
    padding: 8px 20px !important;
    min-height: 48px !important;
  }

  .main-wrapper {
    padding-top: 48px !important;
  }

  article {
    padding: 16px !important;
  }

  h1 {
    font-size: 1.75rem !important;
  }

  h2 {
    font-size: 1.5rem !important;
  }

  /* Optimize sidebar for landscape */
  .navbar-sidebar {
    width: 50% !important;
    max-width: 400px !important;
  }
}

/* ===============================================
   PRINT STYLES
   =============================================== */
@media print {
  /* Hide navigation */
  .navbar,
  .navbar-sidebar,
  .pagination,
  .footer {
    display: none !important;
  }

  /* Full width content */
  .container {
    max-width: 100% !important;
    padding: 0 !important;
  }

  /* Better print typography */
  body {
    font-size: 12pt !important;
    line-height: 1.5 !important;
  }

  h1 {
    font-size: 24pt !important;
  }

  h2 {
    font-size: 18pt !important;
  }

  /* Prevent page breaks */
  h1, h2, h3 {
    page-break-after: avoid !important;
  }

  p {
    orphans: 3;
    widows: 3;
  }
}

/* ===============================================
   ACCESSIBILITY IMPROVEMENTS
   =============================================== */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .navbar {
    border-bottom: 2px solid !important;
  }

  button,
  .button {
    border: 2px solid !important;
  }
}

/* ===============================================
   RETINA DISPLAY OPTIMIZATIONS
   =============================================== */
@media (-webkit-min-device-pixel-ratio: 2),
       (min-resolution: 192dpi) {
  /* Sharper borders */
  .navbar,
  .card,
  button {
    border-width: 0.5px !important;
  }

  /* Better image rendering */
  img {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
}